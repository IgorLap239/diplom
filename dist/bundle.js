(()=>{"use strict";var __webpack_modules__={159:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var calculator=function calculator(){var price=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,cardOrder=document.getElementById("card_order"),times=cardOrder.querySelectorAll('input[name="card-type"]'),clubs=cardOrder.querySelectorAll(".club > input"),promoSale=cardOrder.querySelector('input[placeholder="Промокод"]'),totalPrice=document.getElementById("price-total"),mozaika1=1999,mozaika6=9900,mozaika9=13900,mozaika12=19900,schelkovo1=2999,schelkovo6=14990,schelkovo9=21990,schelkovo12=24990,clubSelect=function(){var e="";return clubs.forEach((function(t){t.checked&&(e=t.value)})),e},periodSelect=function(){var e=0;return times.forEach((function(t){t.checked&&(e=t.value)})),e},countSum=function countSum(){var club=clubSelect(),time=periodSelect();"ТЕЛО2019"!==promoSale.value?totalPrice.textContent=eval("".concat(club).concat(time)):totalPrice.textContent=Math.floor(.7*eval("".concat(club).concat(time)))};cardOrder.addEventListener("change",countSum),location.href.match(/index.html/i)&&countSum()};const __WEBPACK_DEFAULT_EXPORT__=calculator}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=__webpack_require__(159);function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r,i,o,s,l,a,c,d,u,p,m,f,h,v,y,b,_,g,w,E,S,L,x,k,q,A;q=document.querySelector(".clubs-list > p"),A=document.querySelector(".clubs-list > ul"),q.addEventListener("click",(function(){var e=getComputedStyle(A);"none"===e.display?A.style.display="block":"block"===e.display&&(A.style.display="none")})),L=document.querySelector(".popup-menu"),x=document.querySelector(".menu-button > img"),k=document.querySelector(".close-menu-btn > img"),window.addEventListener("click",(function(e){var t=e.target,n=getComputedStyle(L);"none"===n.display?t===x&&(L.style.display="flex"):"flex"===n.display&&(t===k||t.closest(".scroll"))&&(L.style.display="none")})),function(){var e=document.querySelector(".menu-button, .hidden-large");function t(e){window.onscroll=function(){+window.innerWidth<768?window.scrollY>e.offsetTop?"fixed"!==e.style.position&&(e.style.position="fixed",e.style.top="0"):"fixed"===e.style.position&&(e.style.position="",e.style.top=""):(e.style.position="",e.style.top="")}}window.addEventListener("resize",(function(){t(e.closest(".top-menu"))})),t(e.closest(".top-menu"))}(),(S=document.getElementById("totop")).style.display="none",window.addEventListener("scroll",(function(){window.scrollY>600?S.style.display="block":window.scrollY<500&&(S.style.display="none")})),v=document.getElementById("gift"),y=document.getElementById("free_visit_form"),b=document.getElementById("callback_form"),_=document.querySelector(".open-popup"),g=document.querySelector(".callback-btn"),w=document.querySelector(".fixed-gift > img"),E=document.querySelector(".fixed-gift"),window.addEventListener("click",(function(e){var t,n=(t=e.target)===w?(E.style.display="none",v.style.display="block",v.querySelector(".form-wrapper")):t===_?(y.style.display="block",y.querySelector(".form-wrapper")):t===g?(b.style.display="block",b.querySelector(".form-wrapper")):0;if(0!==n&&document.documentElement.clientWidth>768)var r=Date.now(),i=setInterval((function(){var e=Date.now()-r;e>=1010?clearInterval(i):function(e){n.style.top=e/10+"px"}(e)}),20)})),window.addEventListener("click",(function(e){var t=e.target,n=t.closest(".popup");n&&(t.classList.contains("close-btn")||t.classList.contains("close_icon")?n.style.display="none":(t=t.closest(".form-wrapper"))||(n.style.display="none"))})),m=document.querySelector(".main-slider").querySelectorAll(".slide"),f=0,h=function(){m[f].style.display="none",++f>=m.length&&(f=0),m[f].style.display="flex",f>=m.length&&(f=0),f<0&&(f=m.length-1)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(h,e)}(2e3),(new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=document.querySelector("#services > .wrapper"),this.wrap=this.main.querySelector(".services-slider"),this.slides=this.main.querySelectorAll(".services-slider > .slide"),this.slidesToShow=4,this.currentPosition=this.slides.length,this.options={position:this.currentPosition,widthSlide:Math.floor(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow},this.currentPosition=this.slides.length,this.isTransitioEnd=!0}var n,r;return n=t,(r=[{key:"addArrow",value:function(){this.prev=document.createElement("div"),this.next=document.createElement("div"),this.prev.classList.add("slider-arrow"),this.next.classList.add("slider-arrow"),this.prev.innerHTML="<span>❮</span>",this.next.innerHTML="<span>❯</span>",this.prev.classList.add("prev"),this.next.classList.add("next"),this.main.append(this.prev),this.main.append(this.next)}},{key:"cloneItems",value:function(){var e=this;this.slides.forEach((function(t){t.classList.add("clone"),e.slides[0].insertAdjacentElement("beforebegin",t.cloneNode(!0)),t.classList.remove("clone"),e.lengthAll=e.wrap.querySelectorAll(".slide").length}))}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlide.bind(this)),this.next.addEventListener("click",this.nextSlide.bind(this))}},{key:"prevSlide",value:function(){this.isTransitioEnd&&(--this.currentPosition,console.log(this.currentPosition),this.wrap.style.transform="translateX(-".concat(this.currentPosition*this.options.widthSlide,"%)"),this.isTransitioEnd=!1)}},{key:"nextSlide",value:function(){this.isTransitioEnd&&((this.options.infinity||this.options.position<this.options.widthSlide)&&(++this.currentPosition,console.log(this.currentPosition),this.wrap.style.transform="translateX(-".concat(this.currentPosition*this.options.widthSlide,"%)")),this.isTransitioEnd=!1)}},{key:"addClass",value:function(){this.main.classList.add("services__slider"),this.wrap.classList.add("services__slider__wrap"),this.slides.forEach((function(e){e.classList.add("services_slide")}))}},{key:"addStyle",value:function(){var e=document.createElement("style");e.id="slider_style",e.textContent="\n            .services__slider {\n                overflow: hidden !important;\n                position: relative;\n            }\n            .services__slider__wrap {\n                transition: transform 0.5s;\n                will-change: transform !important;\n                padding: 0px 0px !important;\n            }\n    \n            .services_slide {\n                flex: 0 0 ".concat(this.options.widthSlide,"%;\n                margin: 0 auto !important;\n            }\n            "),document.head.appendChild(e)}},{key:"eventListeners",value:function(){var e=this;this.wrap.addEventListener("transitionend",(function(){if(e.currentPosition===e.lengthAll-e.slidesToShow){for(var t=0;t<e.slides.length;t++)console.log(e.wrap.children[t]),e.wrap.append(e.wrap.children[0]);e.currentPosition=e.slides.length-e.slidesToShow,e.wrap.style.transition="none",e.wrap.style.transform="translateX(-".concat(e.currentPosition*e.options.widthSlide,"%)"),setTimeout((function(){return e.wrap.style.transition=""}))}if(0===e.currentPosition){for(var n=0;n<e.slides.length;n++)console.log(e.wrap.children[n]),e.wrap.prepend(e.wrap.lastElementChild);e.currentPosition=e.slides.length,e.wrap.style.transition="none",e.wrap.style.transform="translateX(-".concat(e.currentPosition*e.options.widthSlide,"%)"),setTimeout((function(){return e.wrap.style.transition=""}))}e.isTransitioEnd=!0}))}},{key:"init",value:function(){this.addStyle(),this.addClass(),this.addArrow(),this.cloneItems(),this.wrap.style.transform="translateX(-".concat(this.currentPosition*this.options.widthSlide,"%)"),this.controlSlider(),this.eventListeners()}}])&&e(n.prototype,r),t}())).init(),function(){for(var e,t=document.querySelector(".gallery-slider"),n=t.querySelectorAll(".slide"),r=0,i=1;i<n.length;i++)n[i].style.display="none";var o,s,l=function(e,t){e[t].style.display="none",d[t].classList.remove("slick-active")},a=function(e,t){e[t].style.display="flex",d[t].classList.add("slick-active")},c=function(){l(n,r),++r>=n.length&&(r=0),a(n,r),r>=n.length&&(r=0),r<0&&(r=n.length-1)},d=function(e){var n=document.createElement("ul"),r=document.createElement("li");n.classList.add("slider-dots"),t.append(n),r.innerHTML="<button></button>",r.classList.add("slick-active"),n.append(r);for(var i=1;i<e;i++)(r=document.createElement("li")).innerHTML="<button></button>",n.append(r);return n.querySelectorAll("li")}(n.length),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(c,t)};t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches("span, button")&&(l(n,r),t.closest(".next")?r++:t.closest(".prev")?r--:t.closest("li")&&d.forEach((function(e,n){e===t.closest("li")&&(r=n)})),r>=n.length&&(r=0),r<0&&(r=n.length-1),a(n,r))})),t.addEventListener("mouseover",(function(t){(t.target.matches("span")||t.target.matches("button"))&&clearInterval(e)})),t.addEventListener("mouseout",(function(e){(e.target.matches("span")||e.target.matches("button"))&&u(2500)})),o=document.createElement("div"),s=document.createElement("div"),o.classList.add("slider-arrow"),s.classList.add("slider-arrow"),o.innerHTML="<span>❮</span>",s.innerHTML="<span>❯</span>",o.classList.add("prev"),s.classList.add("next"),t.prepend(o),t.append(s),u(2500)}(),(0,t.Z)(),i=document.getElementById("form1"),o=document.getElementById("form2"),s=document.getElementById("banner-form"),l=document.getElementById("card_order"),a=document.getElementById("footer_form"),c=function(e){var t=e.target;t.matches('input[name="name"]')?t.value=t.value.replace(/[^А-Яа-я ]/g,""):t.matches('input[name="phone"]')&&(t.value=t.value.replace(/[^0-9\+]/g,""))},d=function(e){var t=e.target,n=t.closest("form");t.value=t.value.replace(/ +/g," ").trim(),t.value=t.value.replace(/-+/g,"-"),t.value=t.value.replace(/^-*/g,""),t.value=t.value.replace(/-*$/g,""),t.matches('input[name="name"]')&&(t.value.length<2?(u(t),n.querySelector("button").setAttribute("disabled","disabled")):(p(t),n.querySelector("button").removeAttribute("disabled"),n.querySelector("button").style.display="inline-block",t.value=t.value[0].toUpperCase()+t.value.substr(1).toLowerCase())),t.matches('input[name="phone"]')&&("+"!==t.value[0]&&7===t.value.length||"+"!==t.value[0]&&11===t.value.length||"+"===t.value[0]&&12===t.value.length?(p(t),n.querySelector("button").removeAttribute("disabled"),n.querySelector("button").style.display="inline-block"):(u(t),n.querySelector("button").setAttribute("disabled","disabled"))),n.querySelectorAll("input").forEach((function(e){e.classList.contains("error")&&n.querySelector("button").setAttribute("disabled","disabled")}))},u=function(e){if(e.classList.remove("success"),e.classList.add("error"),!e.nextElementSibling||!e.nextElementSibling.classList.contains("validator-error")){var t=document.createElement("div");e.matches('input[name="name"]')?t.textContent="Имя должно состоять минимум из 2 символов":e.matches('input[name="phone"]')||e.matches('input[placeholder="Ваш номер телефона"]')?t.textContent="Это не номер телефона":e.matches('input[type="checkbox"]')&&(t.textContent="Требуется согласие"),t.classList.add("validator-error"),e.insertAdjacentElement("afterend",t)}},p=function(e){e.classList.remove("error"),e.classList.add("success"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove()},(r=document.createElement("style")).textContent="\n        input.success {\n          border: 2px solid green !important;\n        }\n        input.error {\n          border: 2px solid red  !important;\n        }\n\n        .validator-error {\n          font-size: 14px;\n          font-weight: bold;\n          padding-top: 10px;\n          font-family: sans-serif;\n          color: red;\n        }\n        ",document.head.appendChild(r),i.addEventListener("input",c),i.addEventListener("focusout",d),o.addEventListener("input",c),o.addEventListener("focusout",d),s.addEventListener("input",c),s.addEventListener("focusout",d),l.addEventListener("input",c),l.addEventListener("focusout",d),a.addEventListener("input",c),a.addEventListener("focusout",d),function(){var e=document.getElementById("thanks"),t=document.getElementById("form1"),r=document.getElementById("form2"),i=document.getElementById("banner-form"),o=document.getElementById("card_order"),s=document.getElementById("footer_form"),l=document.createElement("div");l.style.cssText="font-size: 2rem;\n      color: #ffffff;";var a=function(t){t.preventDefault();var r=t.target;if(r===o||r===s){var a=r.querySelectorAll('input[type="radio"]'),d=0;if(a.forEach((function(e){!1===e.checked&&d++})),d===a.length){var p=document.createElement("div");return p.textContent="Выберите клуб",p.classList.add("validator-error"),p.style.paddingRight="30px",p.style.paddingBottom="5px",void r.querySelector("button").insertAdjacentElement("beforebegin",p)}r.querySelector("button").previousElementSibling&&r.querySelector("button").previousElementSibling.classList.contains("validator-error")&&r.querySelector("button").previousElementSibling.remove()}var m=r.querySelector('input[type="checkbox"]');if(m){var f=m.closest("p");if(!m.checked){var h=document.createElement("div");if(h.textContent="Требуется согласие",h.classList.add("validator-error"),f.nextElementSibling&&f.nextElementSibling.classList.contains("validator-error"))return;return void f.insertAdjacentElement("afterend",h)}f.nextElementSibling&&f.nextElementSibling.classList.contains("validator-error")&&f.nextElementSibling.remove()}r.append(l);var v,y={},b=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,s=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw s}}}}(new FormData(r).entries());try{for(b.s();!(v=b.n()).done;){var _=v.value;"form_name"!==_[0]&&(y[_[0]]=_[1])}}catch(e){b.e(e)}finally{b.f()}c(y).then((function(t){if(200!==t.status)throw new Error("status network not 200");r===i||r===o||r===s?(l.remove(),e.style.display="block",u(r)):r.innerHTML='<div class="form-content">\n                    <h4>Спасибо!</h4>\n                    <p style=\'font-size: 20px;\n                    width: 90%;\n                    color: #fff;\n                    font-weight: 500;\n                    margin-top: 30px\'>Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время.</p>\n                    <button class="btn close-btn">OK</button>\n                    </div>',setTimeout((function(){document.querySelectorAll(".popup").forEach((function(e){"block"===e.style.display&&(e.style.display="none")}))}),5e3)})).catch((function(){r===i||r===o||r===s?(l.remove(),e.innerHTML='<div class="form-content">\n                    <h4>Упс!</h4>\n                    <p style=\'font-size: 20px;\n                    width: 90%;\n                    color: #fff;\n                    font-weight: 500;\n                    margin-top: 30px\'>В процессе отправки <br> произошла ошибка</p>\n                    <button class="btn close-btn">OK</button>\n                    </div>',e.style.display="block",u(r)):r.innerHTML='<div class="form-content">\n                    <h4>Упс!</h4>\n                    <p style=\'font-size: 20px;\n                    width: 90%;\n                    color: #fff;\n                    font-weight: 500;\n                    margin-top: 30px\'>В процессе отправки <br> произошла ошибка</p>\n                    <button class="btn close-btn">OK</button>\n                    </div>',setTimeout((function(){document.querySelectorAll(".popup").forEach((function(e){"block"===e.style.display&&(e.style.display="none")}))}),5e3)}))},c=function(e){return l.textContent="",l.insertAdjacentHTML("afterBegin",'\n            <progress id="elem"></progress>\n            '),document.getElementById("elem").style.cssText="\n                width: 50px;\n            ",requestAnimationFrame(d),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},d=function e(){var t=performance.now()/1e3;t>1&&(t=1),t<1&&requestAnimationFrame(e)},u=function(e){e.querySelectorAll("input").forEach((function(e){e.value="",(e.matches('input[type="radio"]')||e.matches('input[type="checkbox"]'))&&(e.checked=!1)}))};t.addEventListener("submit",a),r.addEventListener("submit",a),i.addEventListener("submit",a),o.addEventListener("submit",a),s.addEventListener("submit",a)}()})()})();