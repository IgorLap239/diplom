(()=>{"use strict";var __webpack_modules__={159:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var calculator=function calculator(){var price=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,cardOrder=document.getElementById("card_order"),times=cardOrder.querySelectorAll('input[name="card-type"]'),clubs=cardOrder.querySelectorAll(".club > input"),promoSale=cardOrder.querySelector('input[placeholder="Промокод"]'),totalPrice=document.getElementById("price-total"),mozaika1=1999,mozaika6=9900,mozaika9=13900,mozaika12=19900,schelkovo1=2999,schelkovo6=14990,schelkovo9=21990,schelkovo12=24990,clubSelect=function(){var e="";return clubs.forEach((function(t){t.checked&&(e=t.value)})),e},periodSelect=function(){var e=0;return times.forEach((function(t){t.checked&&(e=t.value)})),e},countSum=function countSum(){var club=clubSelect(),time=periodSelect();"ТЕЛО2019"!==promoSale.value?totalPrice.textContent=eval("".concat(club).concat(time)):totalPrice.textContent=Math.floor(.7*eval("".concat(club).concat(time)))};cardOrder.addEventListener("change",countSum),countSum()};const __WEBPACK_DEFAULT_EXPORT__=calculator}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{var e=__webpack_require__(159);function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var n,o,r,l,i,a,c,s,u,d,m,p,f,y,v,b,_,g,h,E,S,w,k,x,q,L;q=document.querySelector(".clubs-list > p"),L=document.querySelector(".clubs-list > ul"),q.addEventListener("click",(function(){var e=getComputedStyle(L);"none"===e.display?L.style.display="block":"block"===e.display&&(L.style.display="none")})),w=document.querySelector(".popup-menu"),k=document.querySelector(".menu-button > img"),x=document.querySelector(".close-menu-btn > img"),window.addEventListener("click",(function(e){var t=e.target,n=getComputedStyle(w);"none"===n.display?t===k&&(w.style.display="flex"):"flex"===n.display&&(t===x||t.closest(".scroll"))&&(w.style.display="none")})),function(){var e=document.querySelector(".menu-button, .hidden-large");function t(e){window.onscroll=function(){+window.innerWidth<768?window.scrollY>e.offsetTop?"fixed"!==e.style.position&&(e.style.position="fixed",e.style.top="0"):"fixed"===e.style.position&&(e.style.position="",e.style.top=""):(e.style.position="",e.style.top="")}}window.addEventListener("resize",(function(){t(e.closest(".top-menu"))})),t(e.closest(".top-menu"))}(),(S=document.getElementById("totop")).style.display="none",window.addEventListener("scroll",(function(){window.scrollY>600?S.style.display="block":window.scrollY<500&&(S.style.display="none")})),y=document.getElementById("gift"),v=document.getElementById("free_visit_form"),b=document.getElementById("callback_form"),_=document.querySelector(".open-popup"),g=document.querySelector(".callback-btn"),h=document.querySelector(".fixed-gift > img"),E=document.querySelector(".fixed-gift"),window.addEventListener("click",(function(e){var t,n=(t=e.target)===h?(E.style.display="none",y.style.display="block",y.querySelector(".form-wrapper")):t===_?(v.style.display="block",v.querySelector(".form-wrapper")):t===g?(b.style.display="block",b.querySelector(".form-wrapper")):0;if(0!==n&&document.documentElement.clientWidth>768)var o=Date.now(),r=setInterval((function(){var e=Date.now()-o;e>=1010?clearInterval(r):function(e){n.style.top=e/10+"px"}(e)}),20)})),window.addEventListener("click",(function(e){var t=e.target,n=t.closest(".popup");n&&(t.classList.contains("close-btn")||t.classList.contains("close_icon")?n.style.display="none":(t=t.closest(".form-wrapper"))||(n.style.display="none"))})),m=document.querySelector(".main-slider").querySelectorAll(".slide"),p=0,f=function(){m[p].style.display="none",++p>=m.length&&(p=0),m[p].style.display="flex",p>=m.length&&(p=0),p<0&&(p=m.length-1)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(f,e)}(2e3),(0,e.Z)(),o=document.getElementById("form1"),r=document.getElementById("form2"),l=document.getElementById("banner-form"),i=document.getElementById("card_order"),a=document.getElementById("footer_form"),c=function(e){var t=e.target;t.matches('input[name="name"]')?t.value=t.value.replace(/[^А-Яа-я ]/g,""):t.matches('input[name="phone"]')&&(t.value=t.value.replace(/[^0-9\+]/g,""))},s=function(e){var t=e.target,n=t.closest("form");t.value=t.value.replace(/ +/g," ").trim(),t.value=t.value.replace(/-+/g,"-"),t.value=t.value.replace(/^-*/g,""),t.value=t.value.replace(/-*$/g,""),t.matches('input[name="name"]')&&(t.value.length<2?(u(t),n.querySelector("button").setAttribute("disabled","disabled")):(d(t),n.querySelector("button").removeAttribute("disabled"),n.querySelector("button").style.display="inline-block",t.value=t.value[0].toUpperCase()+t.value.substr(1).toLowerCase())),t.matches('input[name="phone"]')&&("+"!==t.value[0]&&7===t.value.length||"+"!==t.value[0]&&11===t.value.length||"+"===t.value[0]&&12===t.value.length?(d(t),n.querySelector("button").removeAttribute("disabled"),n.querySelector("button").style.display="inline-block"):(u(t),n.querySelector("button").setAttribute("disabled","disabled"))),n.querySelectorAll("input").forEach((function(e){e.classList.contains("error")&&n.querySelector("button").setAttribute("disabled","disabled")}))},u=function(e){if(e.classList.remove("success"),e.classList.add("error"),!e.nextElementSibling||!e.nextElementSibling.classList.contains("validator-error")){var t=document.createElement("div");e.matches('input[name="name"]')?t.textContent="Имя должно состоять минимум из 2 символов":e.matches('input[name="phone"]')||e.matches('input[placeholder="Ваш номер телефона"]')?t.textContent="Это не номер телефона":e.matches('input[type="checkbox"]')&&(t.textContent="Требуется согласие"),t.classList.add("validator-error"),e.insertAdjacentElement("afterend",t)}},d=function(e){e.classList.remove("error"),e.classList.add("success"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove()},(n=document.createElement("style")).textContent="\n        input.success {\n          border: 2px solid green !important;\n        }\n        input.error {\n          border: 2px solid red  !important;\n        }\n\n        .validator-error {\n          font-size: 14px;\n          font-weight: bold;\n          padding-top: 10px;\n          font-family: sans-serif;\n          color: red;\n        }\n        ",document.head.appendChild(n),o.addEventListener("input",c),o.addEventListener("focusout",s),r.addEventListener("input",c),r.addEventListener("focusout",s),l.addEventListener("input",c),l.addEventListener("focusout",s),i.addEventListener("input",c),i.addEventListener("focusout",s),a.addEventListener("input",c),a.addEventListener("focusout",s),function(){var e=document.getElementById("thanks"),n=document.getElementById("form1"),o=document.getElementById("form2"),r=document.getElementById("banner-form"),l=document.getElementById("card_order"),i=document.getElementById("footer_form"),a=document.createElement("div");a.style.cssText="font-size: 2rem;\n      color: #ffffff;";var c=function(n){n.preventDefault();var o=n.target;if(o===l||o===i){var c=o.querySelectorAll('input[type="radio"]'),u=0;if(c.forEach((function(e){!1===e.checked&&u++})),u===c.length){var m=document.createElement("div");return m.textContent="Выберите клуб",m.classList.add("validator-error"),m.style.paddingRight="30px",m.style.paddingBottom="5px",void o.querySelector("button").insertAdjacentElement("beforebegin",m)}o.querySelector("button").previousElementSibling&&o.querySelector("button").previousElementSibling.classList.contains("validator-error")&&o.querySelector("button").previousElementSibling.remove()}var p=o.querySelector('input[type="checkbox"]');if(p){var f=p.closest("p");if(!p.checked){var y=document.createElement("div");if(y.textContent="Требуется согласие",y.classList.add("validator-error"),f.nextElementSibling&&f.nextElementSibling.classList.contains("validator-error"))return;return void f.insertAdjacentElement("afterend",y)}f.nextElementSibling&&f.nextElementSibling.classList.contains("validator-error")&&f.nextElementSibling.remove()}o.append(a);var v,b={},_=function(e,n){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw i}}}}(new FormData(o).entries());try{for(_.s();!(v=_.n()).done;){var g=v.value;"form_name"!==g[0]&&(b[g[0]]=g[1])}}catch(e){_.e(e)}finally{_.f()}s(b).then((function(t){if(200!==t.status)throw new Error("status network not 200");o===r||o===l||o===i?(a.remove(),e.style.display="block",d(o)):o.innerHTML='<div class="form-content">\n                    <h4>Спасибо!</h4>\n                    <p style=\'font-size: 20px;\n                    width: 90%;\n                    color: #fff;\n                    font-weight: 500;\n                    margin-top: 30px\'>Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время.</p>\n                    <button class="btn close-btn">OK</button>\n                    </div>',setTimeout((function(){document.querySelectorAll(".popup").forEach((function(e){"block"===e.style.display&&(e.style.display="none")}))}),5e3)})).catch((function(){o===r||o===l||o===i?(a.remove(),e.innerHTML='<div class="form-content">\n                    <h4>Упс!</h4>\n                    <p style=\'font-size: 20px;\n                    width: 90%;\n                    color: #fff;\n                    font-weight: 500;\n                    margin-top: 30px\'>В процессе отправки <br> произошла ошибка</p>\n                    <button class="btn close-btn">OK</button>\n                    </div>',e.style.display="block",d(o)):o.innerHTML='<div class="form-content">\n                    <h4>Упс!</h4>\n                    <p style=\'font-size: 20px;\n                    width: 90%;\n                    color: #fff;\n                    font-weight: 500;\n                    margin-top: 30px\'>В процессе отправки <br> произошла ошибка</p>\n                    <button class="btn close-btn">OK</button>\n                    </div>',setTimeout((function(){document.querySelectorAll(".popup").forEach((function(e){"block"===e.style.display&&(e.style.display="none")}))}),5e3)}))},s=function(e){return a.textContent="",a.insertAdjacentHTML("afterBegin",'\n            <progress id="elem"></progress>\n            '),document.getElementById("elem").style.cssText="\n                width: 50px;\n            ",requestAnimationFrame(u),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},u=function e(){var t=performance.now()/1e3;t>1&&(t=1),t<1&&requestAnimationFrame(e)},d=function(e){e.querySelectorAll("input").forEach((function(e){e.value="",(e.matches('input[type="radio"]')||e.matches('input[type="checkbox"]'))&&(e.checked=!1)}))};n.addEventListener("submit",c),o.addEventListener("submit",c),r.addEventListener("submit",c),l.addEventListener("submit",c),i.addEventListener("submit",c)}()})()})();